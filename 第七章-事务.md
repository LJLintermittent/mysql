# 《MySQL技术内幕：InnoDB存储引擎》

## 第七章 事务

### 前言

事务是数据库系统区别于文件系统的重要特性之一。

事务会把数据库从一种一致状态转换到另一种一致状态。在数据库提交工作时，可以确保要么所有的修改都已经完成了，要么所有的修改都没有做，并且保存了事务开始前的状态，以便可以回到开始的状态。

InnoDB存储引擎中的事务完全符合ACID四大特性的

* 原子性 atomicity
* 一致性 consistency
* 隔离性 isolation
* 持久性 durability

上一章总结了锁，锁是InnoDB存储引擎实现隔离性的重要保证。本章主要关注事务原子性这一概念。

### 事务概述

事务可由一条SQL语句组成，也可以由多条SQL语句组成。事务是访问并更新数据库中各种数据项的一个程序执行单元。在事务的操作中，要么都做修改，要么都不做，这就是事务的目的。也是事务模型区别于文件系统的重要特征之一。

理论上来说，事务有着极其严格的定义，即通常所说的四大特性。但是值得注意的是，虽然理论上定义了严格的要求，但是各种数据库厂商在开发的时候并没有严格去满足事务的ACID标准，例如对于orcal数据库来说，它的隔离级别是RC，并没有满足隔离性要求，不过在大多数情况下，这并不会导致严重的后果，甚至可能带来性能上的提升。但是作为开发者，我们要知道事务的标准，对于InnoDB存储引擎而言，它的事务是完全严格符合ACID标准的事务。



